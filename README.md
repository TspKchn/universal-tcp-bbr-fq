# ЁЯЪА Universal TCP BBR + fq Manager

р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣М **Universal р╣Бр╕Ър╕Ъ Standalone** р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕г **TCP BBR + fq** р╕Ър╕Щ VPS  
р╕нр╕нр╕Бр╣Бр╕Ър╕Ър╕бр╕▓р╣Ар╕Юр╕╖р╣Ир╕н **р╕ер╕Ф Latency ЁЯОо, р╣Ар╕ер╣Ир╕Щр╣Ар╕Бр╕бр╕ер╕╖р╣Ир╕Щ ЁЯЯв, р╣Бр╕ер╕░р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ VPN р╕нр╕вр╣Ир╕▓р╕Зр╣Ар╕кр╕Цр╕╡р╕вр╕г ЁЯФТ**

р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Щр╕╡р╣Й **р╣Др╕бр╣Ир╕Ьр╕╣р╕Бр╕Бр╕▒р╕Ъ VPN р╕лр╕гр╕╖р╕нр╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╣Гр╕Ф р╣Ж**  
р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕гр╣Ир╕зр╕бр╕Бр╕▒р╕Ър╕гр╕░р╕Ър╕Ър╣Ар╕Фр╕┤р╕бр╣Др╕Фр╣Йр╕Чр╕▒р╕Щр╕Чр╕╡  
р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Чр╕▒р╣Йр╕З **Debian р╣Бр╕ер╕░ Ubuntu р╕Чр╕╕р╕Б VPS ЁЯМН**

---

## тЬи р╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤р╣Ар╕Фр╣Ир╕Щ

- ЁЯФР р╣Ар╕Ыр╕┤р╕Фр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Бр╕ер╕░ **р╕ер╣Зр╕нр╕Д TCP BBR**
- тЪЩя╕П р╕Ър╕▒р╕Зр╕Др╕▒р╕Ър╣Гр╕Кр╣Й **fq queue discipline** (р╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щ `cake`)
- ЁЯУЛ р╣Ар╕бр╕Щр╕╣р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Бр╕Ър╕Ър╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╣Ар╕Лр╕┤р╕гр╣Мр╕Яр╣Ар╕зр╕нр╕гр╣М (р╕кр╣Др╕Хр╕ер╣М ShowOn)
- ЁЯзй р╕бр╕╡р╣Ар╕бр╕Щр╕╣ Install / Uninstall / Status Check
- ЁЯФД р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Др╕Фр╣Йр╕Бр╕▒р╕Ъ **р╕Чр╕╕р╕Бр╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣М VPN**
  - Xray / VLESS / VMess
  - SSH / SSL / SNI
  - OpenVPN / WireGuard
  - Hysteria / TUIC
- ЁЯЫбя╕П **р╣Др╕бр╣Ир╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ kernel**
- ЁЯЯв р╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕вр╕кр╕│р╕лр╕гр╕▒р╕Ъ VPS р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Ир╕гр╕┤р╕З
- ЁЯФБ р╣Ар╕ер╕╖р╕нр╕Б reboot р╕лр╕ер╕▒р╕Зр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╣Др╕Фр╣Й

---

## ЁЯЦе р╕гр╕░р╕Ър╕Ър╕Ыр╕Пр╕┤р╕Ър╕▒р╕Хр╕┤р╕Бр╕▓р╕гр╕Чр╕╡р╣Ир╕гр╕нр╕Зр╕гр╕▒р╕Ъ

- ЁЯРз Debian 9 / 10 / 11 / 12  
- ЁЯРз Ubuntu 18.04 / 20.04 / 22.04 / 24.04  

---

## ЁЯЪА р╕зр╕┤р╕Шр╕╡р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╣Бр╕ер╕░р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### ЁЯФ╣ р╕зр╕┤р╕Шр╕╡р╕Чр╕╡р╣И 1: р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╕Фр╣Йр╕зр╕в `wget` тнР р╣Бр╕Щр╕░р╕Щр╕│
```bash
wget -O /root/Install https://raw.githubusercontent.com/TspKchn/universal-tcp-bbr-fq/main/universal-tcp-bbr-fq.sh && chmod +x /root/Install && /root/Install && rm -f /root/Install
```

> р╕Хр╣Йр╕нр╕Зр╕гр╕▒р╕Щр╕Фр╣Йр╕зр╕в **root** р╣Ар╕Чр╣Ир╕▓р╕Щр╕▒р╣Йр╕Щ

---

### ЁЯФ╣ р╕зр╕┤р╕Шр╕╡р╕Чр╕╡р╣И 2: р╕гр╕▒р╕Щр╣Др╕Яр╕ер╣Мр╣Вр╕Фр╕вр╕Хр╕гр╕З
```bash
chmod +x universal-tcp-bbr-fq.sh
./universal-tcp-bbr-fq.sh
```

---

### ЁЯФ╣ р╕зр╕┤р╕Шр╕╡р╕Чр╕╡р╣И 3: One-liner (curl)
```bash
curl -fsSL https://raw.githubusercontent.com/TspKchn/universal-tcp-bbr-fq/main/universal-tcp-bbr-fq.sh | bash
```

---

## ЁЯУЛ р╕лр╕Щр╣Йр╕▓р╕Хр╕▓р╣Ар╕бр╕Щр╕╣

```
=================================================
   Universal TCP BBR + fq Manager
=================================================
 1. Install TCP BBR (Lock BBR + fq)
 2. Uninstall TCP BBR (Restore Default)
 3. Status Check
 0. Exit
-------------------------------------------------
```

---

## ЁЯФз р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Щр╕╡р╣Йр╕Чр╕│р╕нр╕░р╣Др╕гр╕Ър╣Йр╕▓р╕З

### ЁЯЯв Install TCP BBR
- р╣Вр╕лр╕ер╕Ф kernel module `tcp_bbr`
- р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓
  - `net.ipv4.tcp_congestion_control = bbr`
  - `net.core.default_qdisc = fq`
- р╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣М sysctl р╕кр╕│р╕лр╕гр╕▒р╕Ъ **р╕ер╣Зр╕нр╕Др╕Др╣Ир╕▓**
- р╕кр╕гр╣Йр╕▓р╕З systemd service р╣Ар╕Юр╕╖р╣Ир╕нр╕Ър╕▒р╕Зр╕Др╕▒р╕Ър╕Др╣Ир╕▓р╣Ар╕Фр╕┤р╕бр╕Чр╕╕р╕Бр╕Др╕гр╕▒р╣Йр╕Зр╕Чр╕╡р╣Ир╕Ър╕╣р╕Х
- р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕ер╕╖р╕нр╕Б reboot р╕лр╕ер╕▒р╕Зр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╣Др╕Фр╣Й

---

### ЁЯФ┤ Uninstall TCP BBR
- р╕ер╕Ър╣Др╕Яр╕ер╣М sysctl р╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╕ер╣Зр╕нр╕Д
- р╕Ыр╕┤р╕Фр╣Бр╕ер╕░р╕ер╕Ъ systemd service
- р╕Др╕╖р╕Щр╕Др╣Ир╕▓ default р╕Чр╕╡р╣Ир╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в
  - `cubic`
  - `fq_codel`
- р╣Бр╕Щр╕░р╕Щр╕│ reboot р╕лр╕ер╕▒р╕Зр╕Цр╕нр╕Щр╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З

---

### ЁЯФН Status Check
р╣Бр╕кр╕Фр╕Зр╕кр╕Цр╕▓р╕Щр╕░р╕гр╕░р╕Ър╕Ър╣Бр╕Ър╕Ър╕ер╕░р╣Ар╕нр╕╡р╕вр╕Ф:
- TCP congestion control р╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ
- qdisc р╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕нр╕вр╕╣р╣И
- р╕кр╕Цр╕▓р╕Щр╕░ module `tcp_bbr`
- р╕Бр╕▓р╕гр╕бр╕╡р╕нр╕вр╕╣р╣Ир╕Вр╕нр╕Зр╣Др╕Яр╕ер╣М lock
- р╕кр╕Цр╕▓р╕Щр╕░ systemd service

---

## ЁЯОо р╣Ар╕лр╕бр╕▓р╕░р╕Бр╕▒р╕Ър╣Гр╕Др╕г

- ЁЯОп VPS р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕ер╣Ир╕Щр╣Ар╕Бр╕б (ROV, MOBA, FPS)
- ЁЯФР р╣Ар╕Лр╕┤р╕гр╣Мр╕Яр╣Ар╕зр╕нр╕гр╣М VPN р╕Чр╕╕р╕Бр╕Ыр╕гр╕░р╣Ар╕ар╕Ч
- ЁЯУ▒ р╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Ар╕Др╕гр╕╖р╕нр╕Вр╣Ир╕▓р╕вр╕бр╕╖р╕нр╕Цр╕╖р╕нр╕Чр╕╕р╕Бр╕Др╣Ир╕▓р╕в
- ЁЯЯв VPS р╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г **р╕Ыр╕┤р╕Зр╕Щр╕┤р╣Ир╕З р╣Др╕бр╣Ир╕кр╕зр╕┤р╕З**
- ЁЯЪл р╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╣Гр╕лр╣Й `cake` р╕Цр╕╣р╕Бр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤

---

## тЪая╕П р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕р╕кр╕│р╕Др╕▒р╕Н

- р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Щр╕╡р╣Й **р╣Др╕бр╣Ир╣Бр╕Бр╣Йр╣Др╕В kernel**
- р╣Др╕бр╣Ир╕вр╕╕р╣Ир╕Зр╕Бр╕▒р╕Ъ:
  - firewall
  - iptables / nftables
  - config VPN р╣Гр╕Ф р╣Ж
- р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕гр╣Ир╕зр╕бр╕Бр╕▒р╕Ър╕гр╕░р╕Ър╕Ър╣Ар╕Фр╕┤р╕бр╣Др╕Фр╣Йр╕Чр╕▒р╕Щр╕Чр╕╡
- р╕нр╕нр╕Бр╣Бр╕Ър╕Ър╕бр╕▓р╣Ар╕Юр╕╖р╣Ир╕н **р╕Др╕зр╕▓р╕бр╕Щр╕┤р╣Ир╕Зр╕Вр╕нр╕З Latency р╣Др╕бр╣Ир╣Гр╕Кр╣Ир╕Бр╕▓р╕гр╣Ар╕гр╣Ир╕З Bandwidth**

---

## ЁЯУД License

ЁЯУЬ MIT License  
р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ р╣Бр╕Бр╣Йр╣Др╕В р╣Бр╕ер╕░р╣Бр╕Ир╕Бр╕Ир╣Ир╕▓р╕вр╣Др╕Фр╣Йр╕нр╕вр╣Ир╕▓р╕Зр╕нр╕┤р╕кр╕гр╕░

---

## ЁЯдЭ р╕Бр╕▓р╕гр╕бр╕╡р╕кр╣Ир╕зр╕Щр╕гр╣Ир╕зр╕б

р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Ыр╕┤р╕Ф Issue р╕лр╕гр╕╖р╕н Pull Request р╣Ар╕Юр╕╖р╣Ир╕нр╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕Зр╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╣Др╕Фр╣Й  
р╣Ар╕лр╕бр╕▓р╕░р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Гр╕Кр╣Йр╣Ар╕Ыр╣Зр╕Щ **Baseline р╕бр╕▓р╕Хр╕гр╕Рр╕▓р╕Щр╕Вр╕нр╕З VPS р╕Чр╕╕р╕Бр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕З**
